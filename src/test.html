<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="lib/jquery.min.js"></script>
    <script src="better-util-tools.js"></script>
    <style>
        .t {
            height: 5000px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>

<body>
    <div class="t">
        <button class="throttleFn">throttleFn</button>
        <button class="debounceFn">debounceFn</button>
        <button class="copyTextToClipboard">copyTextToClipboard</button>
    </div>
</body>
<script>
    try {
        const _ = new BetterUtilTools();
        console.log(_.getClient())
        console.log(_.typeIs(new Date()));
        console.log(_.formatDateTime({ type: 'hh:mm:ss:S YYYY/MM/DD' }));
        console.log(_.getAbsoluteDay(-5));
        console.log(_.getMonthData(-1, 3));
        console.log(_.getMonthMaxDay(2021, '02'));
        console.log(_.getExplore());
        console.log(_.getOS());
        const color = _.randomColor()
        console.log(color);
        console.log(_.colorToRGB(color,0.8));
        console.log(_.getUrlParams('https://www.baidu.com#test?a=6&b=8'));
        var qStr = _.queryString({ a: 666, b: { c: 8 }, d: true })
        console.log(qStr);
        console.log(_.getUrlParams(`https://www.baidu.com#test?${qStr}`));
        const o1 = { a: 1, c: 11 }, o2 = { a: 2, d: { e: 6, d: [123] } }, o3 = { a: 3, b: 6, d: { e: 6, d: [6, 7, 8] } }
        const o = _.extend(true, o1, o2, o3);
        o.d.e = 88
        o.d.d = []
        console.log('extend');
        console.log(o);
        console.log(o3);
        console.log(_.digitUppercase(120800));
        console.log(_.toFixed(120800.668796,3));
        console.log(_.toFixed(120800.668796,6));
        console.log(_.toFixed('120800',6));
        console.log(_.toFixed('120800xx3w3r',2));
        console.log(_.getStyle(document.querySelector('html'), ['width', 'height']));
        var obj = {
            a: 6,
            b: [1, 2, 3],
            c: {
                d: 4
            },
            e: new Date()
        }
        var obj2 = _.deepCopy({}, obj)
        obj2.c.d = 666
        console.log(obj)
        console.log(obj2)
        console.log('_.jsonHasKey(obj,c)')
        console.log(_.jsonHasKey(obj, 'd'))
        console.log(_.formatDecimals(-1295.638))
        console.log(_.formatDecimals(36897265945.638))
        console.log(_.formatDecimals(0))
        console.log(_.formatDecimals('123385.668'))
        console.log(_.unique([1, 2, 3, 1, 2, 3, 6, 8, 4]))
        console.log(_.intersect([1, 2], [4, 5, 1, 6, 8]))
        console.log(_.union([1, 2], [4, 5, 1]))
        console.log(_.digitUppercase(1268754.38))
        console.log(_.div(2000, 0.128))
        console.log(_.numberToChinese(213805.128))
        console.log(_.queryString({ a: 1, b: 2 }))
        console.log(_.removeHtmlTag(`<span>123</span><img src="https://www.baidu.com" />666`))
        console.log(_.typeIs(new Promise((resolve, reject) => { })))
        var debounceFn = _.debounce(() => {
            console.log(_.elementIsVisibleInViewport($('.copyTextToClipboard')[0], true))
            console.log('debounceFn')
        }, 1000)
        var throttleFn = _.throttle(() => console.log('throttleFn函数执行了'+_.formatDateTime({ type: 'hh:mm:ss' })), 1000)
        $(window).scroll(debounceFn)
        _.injectScript('lib/injectScript.js')
        setInterval(throttleFn, 10)
        $('.debounceFn').click(debounceFn)
        $('.copyTextToClipboard').click(() => {
            _.copyTextToClipboard('copyTextToClipboard',()=>{
                alert('复制成功')
            })
        })

    } catch (err) {
        console.warn(err);
    }
</script>

</html>