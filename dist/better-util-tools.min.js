var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&module.exports?module.exports=e():(t="undefined"!=typeof globalThis?globalThis:t).BetterUtilTools=e()}(this,function(){function t(){this.events={}}t.prototype={on:function(t,e){this.events[t]?this.events[t].push(e):this.events[t]=[e]},emit:function(t,e){this.events[t]&&this.events[t].forEach(function(t){return t(e)})},removeListener:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t!=e}))},once:function(t,e){function n(){e(),r.removeListener(t,n)}var r=this;this.on(t,n)}};function e(){0}return e.prototype={_init:function(){console.log("better-util-tools is ok")},arrayEqual:function(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},isEmptyObj:function(t){return"{}"===JSON.stringify(t)||0===Object.keys(t).length},typeIs:function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},hasClass:function(t,e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)},addClass:function(t,e){this.hasClass(t,e)||(t.className+=" "+e)},removeClass:function(t,e){this.hasClass(t,e)&&(e=new RegExp("(\\s|^)"+e+"(\\s|$)"),t.className=t.className.replace(e," "))},getExplore:function(){var t={},e=navigator.userAgent.toLowerCase(),n=void 0;return(n=e.match(/rv:([\d.]+)\) like gecko/))||(n=e.match(/msie ([\d\.]+)/))?t.ie=n[1]:(n=e.match(/edge\/([\d\.]+)/))?t.edge=n[1]:(n=e.match(/firefox\/([\d\.]+)/))?t.firefox=n[1]:(n=e.match(/(?:opera|opr).([\d\.]+)/))?t.opera=n[1]:(n=e.match(/chrome\/([\d\.]+)/))?t.chrome=n[1]:(n=e.match(/version\/([\d\.]+).*safari/))&&(t.safari=n[1]),t.ie?"IE: "+t.ie:t.edge?"EDGE: "+t.edge:t.firefox?"Firefox: "+t.firefox:t.chrome?"Chrome: "+t.chrome:t.opera?"Opera: "+t.opera:t.safari?"Safari: "+t.safari:"Unkonwn"},getOS:function(){"navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase(),"navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase();var t="navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"";return/mac/i.test(t)?"MacOSX":/win/i.test(t)?"windows":/linux/i.test(t)?"linux":void 0},getMobileSys:function(){var t="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"";return/iphone/i.test(t)||/ipad/i.test(t)||/ipod/i.test(t)?"ios":/android/i.test(t)?"android":/win/i.test(appVersion)&&/phone/i.test(t)?"windowsPhone":void 0},getWechatEnv:function(){var t="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"";return"micromessenger"===t.match(/MicroMessenger/i)&&"wxwork"===t.match(/wxwork/i)?"enterprise":"micromessenger"===t.match(/micromessenger/i)?"wechat":void 0},getClient:function(){return navigator.userAgent.match(/(iPhone|iPod|Android|ios|iOS|iPad|Backerry|WebOS|Symbian|Windows Phone|Phone)/i)?"mobile":"pc"},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},colorToRGB:function(t,e){var n="number"==typeof e;if(!/^(#?)[a-fA-F0-9]{6}$/.test(t))return"";for(var r=t.replace(/#/,""),o=[],i=0;i<3;i++){var a=r.substring(2*i,2*i+2),a=parseInt(a,16);o.push(a)}return"rgb"+(n?"a":"")+"("+o.join()+(n?","+e:"")+")"},random:function(t,e){e=e-t+1;return Math.floor(Math.random()*e+t)},randomName:function(t,e,n){var r="",o=e,i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];t&&(o=Math.floor(Math.random()*(n-e+1)+e));for(var a=0;a<o;a++)r+=i[Math.round(Math.random()*(i.length-1))];return r},isIdCard:function(t){return/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(t)},isPhoneNum:function(t){return/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/.test(t)},isUrl:function(t){return/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/i.test(t)},isEmail:function(t){return/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/i.test(t)},isChineseName:function(t){return/^([\u4E00-\u9FFF]|\w)$/.test(t)},download:function(t){var e=-1<navigator.userAgent.toLowerCase().indexOf("chrome"),n=-1<navigator.userAgent.toLowerCase().indexOf("safari");if(e||n){n=document.createElement("a");if(n.href=t,void 0!==n.download&&(r=t.substring(t.lastIndexOf("/")+1,t.length),n.download=r),document.createEvent){var r=document.createEvent("MouseEvents");return r.initEvent("click",!0,!0),n.dispatchEvent(r),!0}}return-1===t.indexOf("?")&&(t+="?download"),window.open(t,"_self"),!0},fileUtil:{fileToBase64:function(t){var e=new FileReader;e.readAsDataURL(t),e.onload=function(t){return t.target.result}},blobToFile:function(t,e){return t.lastModifiedDate=new Date,t.name=e,t},base64ToFile:function(t,e){for(var n=t.split(","),r=n[0].match(/:(.*?);/)[1],t=r.split("/")[1],o=atob(n[1]),i=o.length,a=new Uint8Array(i);i--;)a[i]=o.charCodeAt(i);return new File([a],e+"."+t,{type:r})},base64ToBlob:function(t){for(var e=t.split(","),t=e[0].match(/:(.*?);/)[1],n=atob(e[1]),r=n.length,o=new Uint8Array(r);r--;)o[r]=n.charCodeAt(r);return new Blob([o],{type:t})}},elementIsVisibleInViewport:function(t,e){var n=1<arguments.length&&void 0!==e&&e,r=t.getBoundingClientRect(),o=r.top,i=r.left,a=r.bottom,s=r.right,u=window,r=u.innerHeight,u=u.innerWidth;return n?(0<o&&o<r||0<a&&a<r)&&(0<i&&i<u||0<s&&s<u):0<=o&&0<=i&&a<=r&&s<=u},removeHtmlTag:function(t){return t.replace(/<[^>]+>/g,"")},loadResources:function(t,e){var o=this;o.$resources=[];var n=[];if("object"===(void 0===t?"undefined":_typeof(t))?n=t:"string"==typeof t&&(n=t.split(",")),null!=n&&0<n.length)for(var r=0,i=0;i<n.length;i++)!function(t,e){var n,r;!function(t,e){if(null!=t&&0<t.length)for(var n=t.length,r=0;r<n;r++)if(t[r]==e)return!0;return!1}(o.$resources,t)?(r=null,".js"==(n=function(t){if(null!=t&&0<t.length)return t.substr(t.lastIndexOf(".")).toLowerCase();return""}(t))?(r=document.createElement("script")).src=t:".css"==n?((r=document.createElement("link")).href=t,r.type="text/css",r.rel="stylesheet"):".less"==n&&((r=document.createElement("link")).href=t,r.type="text/css",r.rel="stylesheet/less"),e=e||function(){},r.onload=r.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(o.$resources.push(t),e())},document.getElementsByTagName("head")[0].appendChild(r)):e()}(n[i],function(){++r==n.length&&(delete o.$resources,e())})},copyTextToClipboard:function(t,e){var n=document.createElement("textarea");n.style.background="transparent",n.value=t,document.body.appendChild(n),n.select();try{document.execCommand("copy")&&e&&e()}catch(t){console.log("Oops, unable to copy")}document.body.removeChild(n)},numberToChinese:function(t){for(var e=new Array("零","一","二","三","四","五","六","七","八","九","十"),n=new Array("","十","百","仟","萬","億","点",""),r=(""+t).replace(/(^0*)/g,"").split("."),o=0,i="",a=r[0].length-1;0<=a;a--){switch(o){case 0:i=n[7]+i;break;case 4:new RegExp("0{4}//d{"+(r[0].length-a-1)+"}$").test(r[0])||(i=n[4]+i);break;case 8:i=n[5]+i,n[7]=n[5],o=0}o%4==2&&0!=r[0].charAt(a+2)&&0==r[0].charAt(a+1)&&(i=e[0]+i),0!=r[0].charAt(a)&&(i=e[r[0].charAt(a)]+n[o%4]+i),o++}if(1<r.length){i+=n[6];for(a=0;a<r[1].length;a++)i+=e[r[1].charAt(a)]}return"一十"==i&&(i="十"),i.match(/^一/)&&3==i.length&&(i=i.replace("一","")),i},add:function(t,e,n){var r,o;try{r=t.toString().split(".")[1].length}catch(t){r=0}try{o=e.toString().split(".")[1].length}catch(t){o=0}var i,a=Math.max(r,o),a=+((t*(i=Math.pow(10,a))+e*i)/i).toFixed(a);return 0<=n?this.toFixed(a,n):a},cut:function(t,e,n){var r,o;try{r=t.toString().split(".")[1].length}catch(t){r=0}try{o=e.toString().split(".")[1].length}catch(t){o=0}var i,a=Math.max(r,o),a=+((t*(i=Math.pow(10,a))-e*i)/i).toFixed(a);return 0<=n?this.toFixed(a,n):a},mul:function(t,e,n){var r=0,o=t.toString(),i=e.toString();try{r+=o.split(".")[1].length}catch(t){}try{r+=i.split(".")[1].length}catch(t){}e=Number(o.replace(".",""))*Number(i.replace(".",""))/Math.pow(10,r);return 0<=n?this.toFixed(e,n):e},div:function(t,e,n){var r=0,o=0;try{r=t.toString().split(".")[1].length}catch(t){}try{o=e.toString().split(".")[1].length}catch(t){}var i=Number(t.toString().replace(".",""))/Number(e.toString().replace(".",""))*Math.pow(10,o-r);return 0<=n?this.toFixed(i,n):i},continuityAdd:function(t,e){var n=this,r=e,o=0;return(0<arguments.length&&void 0!==t?t:[]).forEach(function(e){try{o=n.add(o,e,r)}catch(t){new Error(e+"不是合法的")}}),o},continuityCut:function(t,e){var n=this,r=e,o=0;return(0<arguments.length&&void 0!==t?t:[]).forEach(function(e,t){try{o=0===t?e:n.cut(o,e,r)}catch(t){new Error(e+"不是合法的")}}),o},continuityMul:function(t,e){var n=this,r=e,o=0;return(0<arguments.length&&void 0!==t?t:[]).forEach(function(e,t){try{o=0===t?e:n.mul(o,e,r)}catch(t){new Error(e+"不是合法的")}}),o},continuityDiv:function(t,e){var n=this,r=e,o=0;return(0<arguments.length&&void 0!==t?t:[]).forEach(function(e,t){try{o=0===t?e:n.div(o,e,r)}catch(t){new Error(e+"不是合法的")}}),o},toFixed:function(t,e){var n=this.typeIs(t);if("number"===n||"string"===n&&!window.isNaN(+t)){e=-1<(t+="").indexOf(".")?t.indexOf(".")+e+1:t.length;return+t.substr(0,e)}return new Error(t+"不是合法的")},digitUppercase:function(t){var e=["角","分"],n=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],r=[["元","万","亿"],["","拾","佰","仟"]],o=t<0?"欠":"";t=Math.abs(t);for(var i="",a=0;a<e.length;a++)i+=(n[Math.floor(this.mul(t,10*Math.pow(10,a)))%10]+e[a]).replace(/零./,"");i=i||"整",t=Math.floor(t);for(var s=0;s<r[0].length&&0<t;s++){for(var u="",c=0;c<r[1].length&&0<t;c++)u=n[t%10]+r[1][c]+u,t=Math.floor(t/10);i=u.replace(/(零.)*零$/,"").replace(/^$/,"零")+r[0][s]+i}return o+i.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")},getStyle:function(t,e){var n=t.ownerDocument?t.ownerDocument.defaultView:window;if("string"==typeof e)return n.getComputedStyle(t)[e];if(void 0===e)return n.getComputedStyle(t);if(e instanceof Array){var r={},o=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var u=u.value;r[u]=n.getComputedStyle(t)[u]}}catch(t){i=!0,a=t}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}return r}},formatDecimals:function(t){if("number"!==this.typeIs(t)&&"number"!==this.typeIs(+t))return t;t=String(t).split(".");return t[0]=t[0].replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,"),t.join(".")},formatRemainTime:function(t){var e=new Date,n=new Date(t).getTime()-e.getTime(),r=0,o=0,t=0,e=0;return 0<=n&&(r=Math.floor(n/1e3/3600/24),o=Math.floor(n/1e3/60/60%24),t=Math.floor(n/1e3/60%60),e=Math.floor(n/1e3%60)),r+"天 "+o+"小时 "+t+"分钟 "+e+"秒"},getBJDate:function(t){var e=t&&"date"===this.typeIs(new Date(t))?new Date(t):new Date,n=t&&"date"===this.typeIs(new Date(t))?new Date(t):new Date,t=n.getHours(),e=-e.getTimezoneOffset()/60;return e<0?(e=Math.abs(e)+8,n.setHours(t+e)):(e-=8,n.setHours(t-e)),n},transformTimeZone:function(t){var e=t.timezone,n=void 0===e?8:e,e=t.date,t=new Date(e).getTimezoneOffset(),e=new Date(e).getTime();return new Date(e+60*t*1e3+60*n*60*1e3)},formatDateTime:function(t){var e=t.date,n=t.type,r=void 0===n?"YYYY/MM/DD hh:mm:ss":n,t=t.timeZoneBJ,t=void 0===t||t,e=e&&"date"===this.typeIs(new Date(e))?new Date(e):new Date;t&&(e=this.getBJDate(e));var o,i={"Y+":e.getFullYear(),"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":(e.getMonth()+3)/3|0,S:e.getMilliseconds()};for(o in i)!function(n){new RegExp("("+n+")").test(r)&&(r=r.replace(RegExp.$1,function(t,e){return(0!==e||e<10)&&String(i[n]).length<2&&2===t.length?"0"+i[n]:i[n]}))}(o);return r},getMonthMaxDay:function(t,e){return new Date(t,e,0).getDate()},getWeek:function(t,e,n){return new Date(t+"/"+e+"/"+n).getDay()},getMonthData:function(t,e){if(0<t&&1<=e&&e<=12){for(var n=1,r=new Date(t,e,0).getDate(),o=[];n<r+1;n++)o.push({year:t,month:e,day:n,week:this.getWeek(t,e,n)});return o}return[]},getAbsoluteDay:function(t){function e(t){var e=t;return 1==t.toString().length&&(e="0"+t),e}var n=new Date,r=n.getTime()+864e5*t;n.setTime(r);t=n.getFullYear(),r=n.getMonth(),n=n.getDate();return t+"-"+(r=e(r+1))+"-"+(n=e(n))},isBankCard:function(t,e,n){e="https://ccdcapi.alipay.com/validateAndCacheCardInfo.json?_input_charset=utf-8&cardNo="+e+"&cardBinCheck=true";t?t.get(e).then(function(t){t=t.data;n&&n(t)}).catch(function(t){n("验证失败")}):n("需要axios依赖")},getUrlParams:function(t){var e={},n=[],r=[];if(this.isUrl(t)&&-1!==t.indexOf("?")){for(var o=t.substr(t.indexOf("?")+1).split("&"),i=0;i<o.length;i++){var a=o[i].split("=")[0],s=unescape(o[i].split("=")[1]);e[a]=s,n.push(a),r.push(s)}e["$#key"]=n,e["$#value"]=r}return e},queryString:function(t){var e,n="";for(e in t)["string","number","boolean"].includes(this.typeIs(t[e]))?n+=e+"="+encodeURIComponent(t[e])+"&":n+=e+"="+encodeURIComponent(JSON.stringify(t[e]))+"&";return n.substr(0,n.length-1)},throttle:function(o,t){var i=1<arguments.length&&void 0!==t?t:50,a=0;return function(){var t=Date.now();if(i<t-a){a=t;for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];o.apply(this,n)}}},debounce:function(o,t){var i=1<arguments.length&&void 0!==t?t:50,a=null;return function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];a&&clearTimeout(a),a=setTimeout(function(){o.apply(t,n)},i)}},toHump:function(t){return t.replace(/\_(\w)/g,function(t,e){return e.toUpperCase()})},toLine:function(t){return t.replace(/([A-Z])/g,"_$1").toLowerCase()},imgChange:function(t,e){var n=new FileReader;n.onload=function(t){t=t.target.result;e&&e(t)},n.readAsDataURL(t.files[0])},deepCopy:function(t,e){for(var n in t=t||{},e)e.hasOwnProperty(n)&&("object"==_typeof(e[n])?("array"===this.typeIs(e[n])?t[n]=[]:"object"===this.typeIs(e[n])?t[n]={}:t[n]=e[n],this.deepCopy(t[n],e[n])):t[n]=e[n]);return t},jsonHasKey:function(e,n){var r=this;return"object"==(void 0===e?"undefined":_typeof(e))&&"string"==typeof n&&Object.keys(e).some(function(t){return t===n||r.jsonHasKey(e[t],n)})},unique:function(n,t,e){for(var r=1<arguments.length&&void 0!==t&&t,o=2<arguments.length&&void 0!==e?e:"",i=[],a=0;a<n.length;a++)!function(t){var e=n[t];r?0===i.filter(function(t){return t[o]===e[o]}).length&&i.push(e):-1===i.indexOf(e)&&i.push(e)}(a);return i},contains:function(t,e){return-1!=t.indexOf(e)},union:function(t,e){e=t.concat(e);return this.unique(e)},intersect:function(t,e){for(var n=this,r=(t=this.unique(t)).map(function(t){return n.contains(e,t)?t:null}),o=0,i=r.length;o<i;o++)null===r[o]&&r.splice(o,1);return r},extend:function(t){var n={},r=!1,e=0;"boolean"===this.typeIs(t)&&(r=t,e++);for(var o=function(t){for(var e in t)t.hasOwnProperty(e)&&("object"===this.typeIs(t[e])?n[e]=r?this.extend(n[e],t[e]):t[e]:n[e]=t[e])}.bind(this);e<arguments.length;e++)o(arguments[e]);return n},EventEmitter:new t},e});